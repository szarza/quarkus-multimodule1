<?xml version="1.0" encoding="UTF-8"?>
<zk>
	<system-config>
		<ui-factory-class>org.zkoss.zk.ui.http.SerializableUiFactory</ui-factory-class>
	</system-config>
	<error-page>
	    <exception-type>java.lang.Throwable</exception-type>    
	    <location>/WEB-INF/error.zul</location>    
	</error-page>
	<client-config>
		<error-reload>
			<device-type>ajax</device-type>
			<connection-type>server-push</connection-type>
			<error-code>410</error-code>
			<reload-uri>false</reload-uri>
		</error-reload>
	</client-config>
	<!-- 
	<desktop-config>
	 	<desktop-timeout>10700</desktop-timeout>
    	<theme-provider-class>cestel.calypso.client.frontend.listener.RtlThemeProvider</theme-provider-class>
		<theme-uri>/css/zk.css</theme-uri>
		<theme-uri>/css/cestel.css</theme-uri>
	</desktop-config>
	 -->

	<session-config>
		<device-type>ajax</device-type>
		<max-desktops-per-session>6</max-desktops-per-session>
		<!-- 
		<session-timeout>10800</session-timeout>
		 -->
		<timer-keep-alive>true</timer-keep-alive>
		<session-timeout>60</session-timeout>
		<automatic-timeout>true</automatic-timeout>
		<timeout-uri>/login.zul?exit=true</timeout-uri>
		<!--
			Se comentó porque a los usuarios no les resultaba útil 
			<timeout-message>label:timeout</timeout-message>
		 -->
	</session-config>
	<!-- 
	<language-config>
    	<addon-uri>/WEB-INF/lang-addon.xml</addon-uri>
	</language-config>
	
	<richlet>
    	<richlet-name>login</richlet-name>
    	<richlet-class>cestel.calypso.client.frontend.QuickLoginRichlet</richlet-class>
	</richlet>
	<richlet-mapping>
    	<richlet-name>login</richlet-name>
    	<url-pattern>/do/login</url-pattern>
	</richlet-mapping>
	 -->
	

	<listener>
    	<listener-class>org.zkoss.zkmax.au.websocket.WebSocketWebAppInit</listener-class>
    </listener>
    
	<!-- Initiator: Filtro de autenticación 
	     Atención: Excluir "/zkwm" de los listeners, filtros, etc...
	 -->
	 <!-- 
	<listener>
		<listener-class>cestel.zk.auth.AuthInitiator</listener-class>
	</listener>
	<listener>
		<listener-class>cestel.calypso.client.frontend.listener.CalypsoEventGateway</listener-class>
	</listener>
	<listener>
		<listener-class>cestel.calypso.client.frontend.listener.SessionListener</listener-class>
	</listener>
 	-->
 
	<library-property>
		<name>org.zkoss.zkex.ui.comet.smartconnection.disabled</name>
		<value>true</value>
	</library-property>

	<preference>
		<name>org.zkoss.zk.ui.WebApp.name</name>
	    <value>hermes.admin</value>
    </preference>

	<!-- pagina login -->
	<preference>
		<name>cestel.zk.auth.loginPage</name>
		<value>/login.zul</value>
	</preference>

	<!-- pagina logout -->
	<preference>
		<name>cestel.zk.auth.logoutPage</name>
		<value>/login.zul?exit=true</value>
	</preference>

	<!-- exclusiones de login -->
	<preference>
		<name>cestel.zk.auth.excludes</name>
		<value>/zkwm, /zkcomet, /testsso.jsp, /map, /monitor, /test, /radiospeaker.zul, /about.zul</value>
	</preference>
	
	<!-- Las siguientes configuraciones van en el fichero de configuración -->
	<!-- 
	<preference>
		<name>cestel.zk.DesktopWatchDog.enabled</name>
		<value>true</value>
	</preference>

	<preference>
		<name>cestel.zk.DesktopWatchDog.heartBeatInterval</name>
		<value>60</value>
	</preference>
	
	<preference>
		<name>cestel.zk.DesktopWatchDog.aliveCheckInterval</name>
		<value>300</value>
	</preference>
	 -->
</zk>
